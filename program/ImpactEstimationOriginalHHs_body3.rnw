\newpage
\section{Descriptive statistics of original 1600 HHs}



<<>>=
# Following files are created in ImpactEstimatin_body1.rnw using paste0(path1234, "data_read_in_a_list_with_baseline_patched.rds") further trimmed in DataTrimmingMembership1or4.rnw
# All are in long format with time dummies.
s1 <- readRDS(paste0(pathsaveHere, "RosterSchoolingAdminDataUsedForEstimation.rds"))
ar <- readRDS(paste0(pathsaveHere, "RosterAdminDataUsedForEstimation.rds"))
ass <- readRDS(paste0(pathsaveHere, "AssetAdminDataUsedForEstimation.rds"))
lvo <- readRDS(paste0(pathsaveHere, "LivestockAdminDataUsedForEstimation.rds"))
lab <- readRDS(paste0(pathsaveHere, "LabourIncomeAdminDataUsedForEstimation.rds"))
far <- readRDS(paste0(pathsaveHere, "FarmRevenueAdminDataUsedForEstimation.rds"))
con <- readRDS(paste0(pathsaveHere, "ConsumptionAdminDataUsedForEstimation.rds"))
# what to do with errors like below?
#ass[hhid == 7043715, .(hhid, survey, tee)]

@
\begin{description}
\vspace{1.0ex}\setlength{\itemsep}{1.0ex}\setlength{\baselineskip}{12pt}
\item[c]	continuing members.
\item[d]	drop out members.
\item[a]	absence.
\item[n]	members of a new group.
\item[r]	replacing members.
\end{description}
<<tabulation of ObPattern agaist Mpattern>>=
table0(xid[survey == 1, .(ObPattern, Mpattern)])
xid[, AttritIn := 9L]
xid[grepl("^En|^2nd and 4", missing_followup), AttritIn := 4L]
xid[grepl("^3rd and 4", missing_followup), AttritIn := 3L]
xid[grepl("^2.*3.*4", missing_followup), AttritIn := 2L]
@
\textsf{AttritIn}: Attrition round. 9 is nonattriting members.
<<Attrition round>>=
table0(xid[, AttritIn])
table0(xid[survey == 1, .(AttritIn, ObPattern)])
table0(xid[, .(AttritIn, survey)])
xid <- xid[, .(AssignOriginal, randomization, groupid, hhid, 
  survey, year, AttritIn, ObPattern, Mstatus, Mgroup, 
  creditstatus, IntDate, DistDate1)]
xid[, group.id := as.numeric(substr(hhid, 1, 5))]
xid[group.id == 81710, group.id := as.numeric(substr(hhid, 1, 6))]
xid <- merge(xid, probgp, by = "group.id", all.x = T)
xid[is.na(randomization), AssignOriginal := randomization0]
hhido <- unique(xid[hhid %in% hhid[!grepl("new|Rep", Mstatus) & survey == 1], 
   hhid])
hhidor <- unique(xid[hhid %in% hhid[!grepl("new", Mstatus) & survey == 1], 
   hhid])
@
\textsf{Mstatus} changes for some \textsf{groupid}s. Correct \textsf{Mstatus} by checking \textsf{comment} for dropping out (taken from CharRandomization2012.prn).
<<Correct Mstatus by checking comment for dropping out>>=
xid[, dM := length(unique(Mstatus)) > 1, by = hhid]
table(xid[(dM), .(Mstatus, survey)])
@
See how \textsf{Mstatus} changes at rd 4: This suggests \textsf{iRejection} needs to change to \textsf{gRejection}, and \textsf{iRejection} to \textsf{oldMember}.
<<See how Mstatus changes at rd 4>>=
table0(xid[groupid %in% groupid[(dM)], .(Mstatus, survey)])
#table0(xid[(dM), .(group.id, survey)])
@
\textsf{group.id} (created from first characters of \textsf{hhid}) and their reasons for dropping out.
<<group.id created from first characters of hhid and their reasons for dropping out>>=
table0(xid[(dM) & survey == 1, .(group.id, comment)])
@
Correct \textsf{Mstatus} in rd 4 from \textsf{iRejection} to \textsf{gRejection} if denial is the \textsf{comment}. \gobblepars
<<Correct Mstatus in rd 4 from iRejection to gRejection>>=
xid[(dM) & grepl("denial", comment) & survey == 4, Mstatus := "gRejection"]
table0(xid[(dM), .(Mstatus, survey)])
xid[, dM2 := length(unique(Mstatus)) > 1, by = hhid]
@
Correct \textsf{Mstatus} in rd 1-3 from \textsf{iRejection} to \textsf{oldMember} if NA is the \textsf{comment}. \gobblepars
<<Correct Mstatus in rd 4 from iRejection to oldMember>>=
xid[(dM2), .(hhid, Mstatus, survey, creditstatus)]
table0(xid[(dM2), .(Mstatus, survey)])
xid[(dM2) & is.na(comment) & survey < 4, Mstatus := "oldMember"]
table0(xid[(dM2), .(Mstatus, survey)])
xid[, dM3 := length(unique(Mstatus)) > 1, by = hhid]
if (!any(xid[, dM3])) xid[, dM3 := NULL]
xid[, c("dM", "dM2") := NULL]
@
Original \Sexpr{sum(table0(xid[survey==1 & hhid %in% hhido, .(Mstatus, AssignOriginal)]))} HHs (original sample) by arm and membership status.
<<Original 1600 HHs by arm and membership status>>=
table0(xid[survey==1 & hhid %in% hhido, .(Mstatus, AssignOriginal)])
@
Including \textsf{r} or individually replacing HHs (replacing sample): \Sexpr{sum(table0(xid[survey==1 & hhid %in% hhidor, .(Mstatus, AssignOriginal)]))}
<<Including individual replacing HHs>>=
table0(xid[survey==1 & hhid %in% hhidor, .(Mstatus, AssignOriginal)])
@
First disbursement year of individual and replacing samples. We have about 100+ in 2013 for replacing sample.
<<First disbursement year of individual and replacing samples>>=
rbind(
  original = table0(year(xid[survey==1 & hhid %in% hhido, DistDate1])),
  replacing = table0(year(xid[survey==1 & hhid %in% hhidor, DistDate1])))
@
Use original sample. \gobblepars
<<force xid to have 4 periods, warning = F>>=
# By reshaping wide, I force all obs to have 4 round of data.
# Use only hhid as idvar, because AssignOriginal has NAs.
# If including AssignOriginal in idvar, rows with AssignOriginal = NA
# will be dropped in widened data. 
xidW <- reshape(xid, direction = "wide", 
  # idvar = c("Mstatus", "groupid", "AssignOriginal", "hhid"),
  idvar = "hhid",
  timevar = "survey", v.names = grepout("yea|Date", colnames(xid)))
# keep only original HHs
xidW <- xidW[hhid %in% hhido, ]
# force mechanical reshape long by stripping reshapeWide attributes
attributes(xidW)$reshapeWide <- NULL
xid <- reshape(xidW, direction = "long", 
  idvar = "hhid",
  varying = grepout("yea|Date", colnames(xidW)))
# rename survey to tee
setnames(xid, "time", "tee")
@
Attrition. % (\textsf{WillAttrit} is just a check if reshaping forced 4 obs per HH.)
<<count attrition, warning = F>>=
xid[, WillAttrit := 1L]
xid[hhid %in% hhid[AttritIn>4L], WillAttrit := 0L]
table0(xid[, .(tee, WillAttrit)])
xid[, Rejected := 0L]
xid[grepl("gR|iR", Mstatus), Rejected := 1L]
@
Merge \textsf{xid} with other files. Keep \textsf{all==T}.
<<Merge xid with other files, echo = T>>=
xid[, Fromxid := T]
datafiles <- c("s1", "ar", "ass", "lvo", "lab", "far", "con")
Datafiles <- c("S1", "Ar", "Ass", "Lvo", "Lab", "Far", "Con")
DataFileNames <- c(
  "Schooling", "Repayment", "Asset", "Livestock", 
  "LabourIncome", "FarmIncome", "Consumption")
#lapply(datafiles, function(x) 
#  grepout("AssignO|^Arm$|groupi|hhid|tee", colnames(get(x))))
# use only rd 1 characteristics
xid[, c("year") := NULL]
setkey(xid, AssignOriginal, groupid, hhid, tee)
# tee numbering is not in line with survey. This causes multiple matches per hhid-tee below. Correct.
corrtee <- c("ar", "ass", "lvo")
for (i in corrtee) {
  this <- get(i)
  setkey(this, hhid, survey)
  this[, tee := NULL]
  this[, tee := 1:.N, by = hhid]
  assign(i, this)
}
for (i in 1:length(datafiles)) {
  X <- get(datafiles[i])
  X[, FromFile := 1L]
  # files up to livestock do not have AssignOriginal
  if (i >= 4)
    xx <- merge(xid, X, by = key(xid)[-1], all = T, 
      suffixes = c("", paste0("From", Datafiles[i]))) else
    xx <- merge(xid, X, by = key(xid), all = T, 
      suffixes = c("", paste0("From", Datafiles[i])))
  xx[is.na(FromFile), FromFile := 0L]
  assign(paste0(datafiles[i], "x"), xx)
  saveRDS(xx, paste0(pathsaveHere, "Roster", DataFileNames[i],
     "AdminOriginalHHsDataUsedForEstimation.rds"))
}
@
<<eval = F>>=
arx[, en := .N, by = .(hhid, tee)]
arx[hhid %in% hhid[en>1], ]
@
%Attririon by membership status in repayment-saving:
<<Attririon by membership status in repayment, eval = F>>=
table0(assx[tee == 1, .(Mstatus, WillAttrit)])
@
Membership status in schooling: Schooling files have multiple observations per household.
<<Attririon by membership status in schooling>>=
table0(s1x[Fromxid & tee == 1, Mstatus])
s1x[, teenum := 1:.N, by = .(hhid, tee)]
@
Number of obs per survey round in the schooling file:
<<Number of obs per survey round>>=
table0(s1x[, .(teenum, tee)])
@
Assets: Original arm assignment by membership status in rd 1: \Sexpr{sum(table0(assx[tee == 1, .(RArm, Mstatus)])
)} households.
<<Original arm assignment by membership status>>=
table0(assx[tee == 1, .(Mstatus, AssignOriginal)])
@
<<tabulation of obs by page>>=
arx[, teenum := 1:.N, by = .(hhid, tee)]
labx[, teenum := 1:.N, by = .(hhid, tee)]
datafiles <- c("s1", "ar", "ass", "lvo", "lab", "far", "con")
armtabs <- NULL
for (i in 1:length(datafiles[-2])) {
  dx <- get(paste0(datafiles[-2][i], "x"))
  dx <- dx[tee < AttritIn & FromFile == 1L, ]
  if (i != grep("con", datafiles[-2])) {
    for (j in 1:4)
      armtabs <- 
      #data.table(
      rbind(armtabs,
        table0(dx[Fromxid & tee == j, AssignOriginal]))
      #  )
  } else
    for (j in 2:4)
      armtabs <- 
      #data.table(
      rbind(armtabs,
        table0(conx[Fromxid & tee == j & AttritIn != 2, AssignOriginal]))
      #  )
}
# armtabs <- data.table(rbind(
#     table0(s1x[Fromxid & tee == 1, AssignOriginal]),
#     table0(arx[Fromxid & tee == 1, AssignOriginal]),
#     table0(assx[Fromxid & tee == 1, AssignOriginal]), 
#     table0(lvox[Fromxid & tee == 1, AssignOriginal]), 
#     table0(labx[Fromxid & tee == 1, AssignOriginal]),
#     table0(farx[Fromxid & tee == 1, AssignOriginal]),
#     table0(conx[Fromxid & tee == 2 & AttritIn != 2, AssignOriginal])))
    # consumption is not asked in rd 1
armtabs <- data.table(armtabs)
armtabs[, total := rowSums(armtabs)]
armtabs <- data.table(
  files = 
    paste0("\\makebox[1cm]{\\scriptsize ", 
      c(rep(datafiles[-c(2, grep("con", datafiles))], each = 4), 
        rep("con", each = 3)),
      "}")
  , 
  rounds = 
    c(rep(1:4, length(datafiles)-2), 2:4)
  , armtabs)
armtabs[-seq(1, nrow(armtabs), 4), files := ""]
amt <- latextab(as.matrix(armtabs), 
  hleft = "\\scriptsize\\hfil$", hcenter = c(1, rep(1.5, ncol(armtabs)-1)), hright = "$", 
  headercolor = "gray80", adjustlineskip = "-.2ex", delimiterline= NULL,
  alternatecolor = "gray90")
write.tablev(amt,  paste0(pathsaveHere, "NumObsOriginalHHs.tex"),
  colnamestrue = F)
@

\hfil\begin{minipage}[t]{12cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: Number of observations from original 1600 HHs in round 1\label{tab NObsOH}}\\
\setlength{\tabcolsep}{.5pt}
\setlength{\baselineskip}{10pt}
\renewcommand{\arraystretch}{.7}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "NumObsOriginalHHs.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{10cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & \\
& 2. &  
\end{tabular}
\end{minipage}







\section{Estimation using original 1600 HHs}


\subsection{Repayment and net saving}

<<ReadTrimRepaymentFDData original HHs, cache = F, child='c:/data/GUK/analysis/program/ReadTrimRepaymentOriginalHHsFDData.rnw'>>=
@
Repayment started in round 2. So taking a first-difference leaves us with period 2-3 and period 3-4. After first-differencing, \textsf{ar} has \Sexpr{nrow(dard[tee>2, ])} rows with \Sexpr{table(dard[tee == Tee, Tee])} individuals with repeatedly observed for \Sexpr{as.numeric(names(table(dard[tee == Tee, Tee])))+1} times, respectively. 
%Drop \Sexpr{nrow(dar2d[tee <= 2, ])} observations in \textsf{ar} that have round 1 data (for unknown reasons). After first-differencing, \textsf{ar} has \Sexpr{nrow(dar2d[tee>2, ])} rows with \Sexpr{table(dar2d[tee > 2, Tee])} individuals with repeatedly observed for \Sexpr{as.numeric(names(table(dar2d[tee>2, Tee])))+1} times, respectively. \Sexpr{table(dar2d[tee > 2, Tee])["3"]} individuals observed for 4 times started repayment even before official disbursement date, so its round 1 will be dropped.

Note all binary interaction terms are demeaned and then interacted.
<<prepare data for saving regressions original HHs, warning = F, message = F>>=
ar <- readRDS(paste0(pathsaveHere, "RosterAdminDataUsedForEstimation.rds"))
ar[, tee := survey]
ar[, Mid := 1:.N, by = .(hhid, survey)]
ar <- ar[Mid == 1, ]
ar[, Mid := NULL]
ar[, CumSave := CumNetSaving - CumRepaid]
ar[, CumEffectiveRepayment := CumNetSaving + CumRepaid]
ar[, Arm := droplevels(Arm)]
ar[, HeadLiteracy := HeadLiteracy + 0]
source("c:/migrate/R/startRbat/panel_estimator_functions.R")
setorder(ar, hhid, IntDate)
ar[, grepout("LoanY|^Time$", colnames(ar)) := NULL]
#ar[, c("dummyForcedDropOuts") := NULL]
table0(ar[, .(tee, RArm)])
@
NAs in \textsf{CumRepaid}.
<<NAs in CumRepaid in ar>>=
table0(ar[is.na(CumRepaid), .(tee, Arm)])
@
Tabulation at rd 1:
<<Tabulation at rd 1 for ar>>=
table0(ar[survey == 1, .(Mstatus, RArm)])
<<Cumulative net saving original HHs, warning = F, message = F, fig.align='center', fig.height = 3, fig.width = 10, fig.cap = paste0("Cumulative weekly net saving", ""), fig.lp = 'Figure '>>=
library(ggplot2)
ggplot(ar[!is.na(Date), .(Arm, hhid, Date, MonthsElapsed, CumNetSaving)], 
  aes(x = MonthsElapsed, y = CumNetSaving, colour = Arm, group = Arm)) +
  geom_point(aes(colour = Arm), size = .1, position = position_dodge(width = .5)) +
  geom_smooth(span = .5, aes(colour = Arm, group = Arm)) +
  theme(legend.position="none", legend.key = element_rect(fill = "white")) + 
  scale_y_continuous() +
  scale_x_continuous(limits = c(-12, 48), breaks = seq(-12, 48, 12)) +
  xlab("Months since 1st loan disbursement") + ylab("Normalised repayment amount") +
  facet_grid(. ~ Arm, scales = "free_y")
<<ReadTrimRepaymentFDData original HHs again, cache = F, child='c:/data/GUK/analysis/program/ReadTrimRepaymentOriginalHHsFDData.rnw'>>=
@
<<saving regressions estimation set parameters original HHs>>=
FileName <- "Saving"
FileNameHeader <- paste0(c("", "Grace", "PovertyStatus", "Size", "Attributes"),
  "OriginalHHs")
arsuffixes <- c("", "g", "p", "s", "a")
listheader <- paste0("sv", arsuffixes)
Regressands <-  c(rep("CumNetSaving", 2), rep("CumRepaid", 3), 
  rep("CumEffectiveRepayment", 3))
DataToUse1 <- DataToUse2 <- rep("dard", 8)
Addseparatingcols = c(2,5); Separatingcolwidth = rep(.2, 2)
Separatingcoltitle = c("Cumulative net saving", "Cumulative repayment", 
   "Cumulative net saving + cumulative repayment")
<<saving regresions select covariates original HHs, echo = T>>=
source(paste0(pathprogram, "RepaymentCovariateSelection.R"))
<<saving regressions estimation original HHs>>=
exclheader <- paste0("excl", arsuffixes)
source(paste0(pathprogram, "FDEstimationFile.R"))
<<check linear independence in saving  original HHs data>>=
# svX <- sv12$data[, .(tee,
#   T2 = dummyTraditional.Time2 > 0, L2 = dummyLarge.Time2 > 0,
#   G2 = dummyLargeGrace.Time2 > 0, C2 = dummyCow.Time2 > 0, 
#   T3 = dummyTraditional.Time3 > 0, L3 = dummyLarge.Time3 > 0,
#   G3 = dummyLargeGrace.Time3 > 0, C3 = dummyCow.Time3 > 0, 
#   T4 = dummyTraditional.Time4 > 0, L4 = dummyLarge.Time4 > 0,
#   G4 = dummyLargeGrace.Time4 > 0, C4 = dummyCow.Time4 > 0 )]
# svX <- sv12$data[, .(
#   dummyTraditional.Time2 , dummyLarge.Time2 ,
#   dummyLargeGrace.Time2 , dummyCow.Time2 , 
#   dummyTraditional.Time3 , dummyLarge.Time3 ,
#   dummyLargeGrace.Time3 , dummyCow.Time3 , 
#   dummyTraditional.Time4 , dummyLarge.Time4 ,
#   dummyLargeGrace.Time4 , dummyCow.Time4 )]
LinDependent <- function(z, ShowMostDependent = F, ReturnColNames = F) 
#  From CrossVal: https://stats.stackexchange.com/questions/16327/testing-for-linear-dependence-among-the-columns-of-a-matrix#39321
#  The weakness of this function is that it does not specify which columns are jointly linearly dependent.
#  ShowMostDependent: if T, returns column that is least linearly independent, if F, returns columns that are linearly dependent.
{
  if (!is.matrix(z)) z <- as.matrix(z)
  rankofz <- qr(z)$rank
  if (rankofz == ncol(z)) message("Full rank.") else
  {
    rankifremoved <- sapply(1:ncol(z), function (x) qr(z[, -x])$rank)
    if (ReturnColNames) {
      if (ShowMostDependent)
        this <- colnames(z)[rankifremoved == max(rankifremoved)] else
        this <- colnames(z)[rankifremoved == ncol(z) - 1] 
    } else {
      if (!ShowMostDependent)
        this <- which(rankifremoved == max(rankifremoved)) else
        this <- which(rankifremoved == ncol(z) - 1)
    }
    return(this)
  }
}
# svX <- as.matrix(sv12$data[, .(
#   Time.2, dummyLarge.Time2,
#   dummyLargeGrace.Time2, dummyCow.Time2, 
#   Time.3 , dummyLarge.Time3 ,
#   dummyLargeGrace.Time3 , dummyCow.Time3 , 
#   Time.4 , dummyLarge.Time4 ,
#   dummyLargeGrace.Time4, dummyCow.Time4 )])
#LinDependent(svX, F, T) 
<<get arsv data>>=
arsv <- ar[, .(Arm, groupid, hhid, tee = as.factor(tee))]
svDatalist <- list(arsv, arsv, arsv, arsv, arsv, arsv, arsv, arsv)
<<tabulating number of obs in sv ols original HHs, warning = F>>=
InTermsSV <- lapply(svDatalist, function(x) 
  interactXY(
    makeDummyFromFactor(x[, Arm], NULL), 
    makeDummyFromFactor(x[, tee], NULL)
    ))
InTermsSV <- rbindlist(lapply(InTermsSV, function(x) {
  z <- data.table(t(c(nrow(x), unlist(lapply(1:ncol(x), function(i) sum(x[, i, with = F]))))))
  setnames(z, gsub(" ", "", gsub("dummy", "", c("total", colnames(x)))))
  z
}))
InTermsSV <- InTermsSV[, which(unlist(lapply(InTermsSV, function(x) !all(is.na(x) | x == 0)))), with=F]
InTermsSV <- t(InTermsSV)
colnames(InTermsSV) <- paste0("(", 1:ncol(InTermsSV), ")") 
InTermsSV <- InTermsSV[c(grep("Tra", rownames(InTermsSV)), 
  grep("Large[^g]", rownames(InTermsSV)),
  grep("Largeg", rownames(InTermsSV)),
  grep("Cow", rownames(InTermsSV)),
  grep("total", rownames(InTermsSV))
  ), ]
# reorder within a group
rn.j <- rownames(InTermsSV)
newroworder <- NULL
for (j in c("Tra", "Large[^g]", "Largeg", "Cow"))
  newroworder <- c(newroworder, 
    c(grep(paste0(j, ".*ale$"), rn.j), grep(paste0(j, ".*P"), rn.j), 
      grep(paste0(j, ".*J"), rn.j), grep(paste0(j, ".*H"), rn.j)))
InTermsSV <- InTermsSV[c(newroworder, nrow(InTermsSV)), ]
<<>>=
#dummy chunk
@


\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of cumulative net saving and repayment\label{tab FD saving original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "SavingOriginalHHsFDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates using rd 2 - rd 4 data. First-differenced ($\Delta x_{t+1}\equiv x_{t+1} - x_{t}$) regressands are regressed on categorical and time-variant covariates. Net saving is taken from administrative data and merged with survey data at Year-Month of survey interviews. Head age and literacy are from baseline data. Intercept terms are omitted in estimating equations. Net saving is saving - withdrawal. \\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}


\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of cumulative net saving and repayment by attributes\label{tab FD saving attributes original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "SavingAttributesOriginalHHsFDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates using rd 2 - rd 4 data. First-differenced ($\Delta x_{t+1}\equiv x_{t+1} - x_{t}$) regressands are regressed on categorical and time-variant covariates. Net saving is taken from administrative data and merged with survey data at Year-Month of survey interviews. Head age and literacy are from baseline data. Intercept terms are omitted in estimating equations. Net saving is saving - withdrawal. \\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of net cumulative saving and repayment, ultra poor vs. moderately poor\label{tab FD saving2 original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "SavingPovertystatusOriginalHHsFDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates using rd 2 - rd 4 data. First-differenced ($\Delta x_{t+1}\equiv x_{t+1} - x_{t}$) regressands are regressed on categorical and time-variant covariates. Net saving is taken from administrative data and merged with survey data at Year-Month of survey interviews. Head age and literacy are from baseline data. Intercept terms are omitted in estimating equations. Net saving is saving - withdrawal. \\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of net cumulative saving and repayment, with vs. without a grace period\label{tab FD saving3 original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "SavingGraceOriginalHHsFDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates using rd 2 - rd 4 data. First-differenced ($\Delta x_{t+1}\equiv x_{t+1} - x_{t}$) regressands are regressed on categorical and time-variant covariates. Net saving is taken from administrative data and merged with survey data at Year-Month of survey interviews. Head age and literacy are from baseline data. Intercept terms are omitted in estimating equations. Net saving is saving - withdrawal. All dummy interaction terms are first demeaned and then interacted.\\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of net cumulative saving and repayment, small size vs. large size\label{tab FD saving4 original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "SavingSizeOriginalHHsFDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates using rd 2 - rd 4 data. First-differenced ($\Delta x_{t+1}\equiv x_{t+1} - x_{t}$) regressands are regressed on categorical and time-variant covariates. Net saving is taken from administrative data and merged with survey data at Year-Month of survey interviews. Head age and literacy are from baseline data. Intercept terms are omitted in estimating equations. Net saving is saving - withdrawal. All dummy interaction terms are first demeaned and then interacted.\\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}


\begin{palepinkleftbar}
\begin{finding}
\textsc{\small Table \ref{tab FD saving original HH}} (1) shows net saving increases, (2) shows that initially a larger then a smaller extent in the later rounds. This reduction may reflect the use of saving for repayment. \textsf{traditional} arm has the lowest repayment rates. Ultra poor and moderately poor have similar repayment rates as indicated in \textsc{\small Table \ref{tab FD saving2 original HH}}. \textsc{Table \ref{tab FD saving3 original HH}} (2) shows having a grace period increases the repayment amount while reduces net saving in later rounds. (4) and (5) show cumulative repayment is greater for with grace because each installment is larger. These are all by design that they do not repay in rd 1 so saving increases then they tap in these saving for repayment. 
\end{finding}
\end{palepinkleftbar}


\subsection{Schooling}


<<ReadTrimSchoolingFDData2 original HHs, cache = F, eval = F, child='c:/data/GUK/analysis/program/ReadTrimSchoolingOriginalHHsFDData2.rnw'>>=
#source(paste0(pathprogram, "ReadTrimSchoolingOriginalHHsFDData2.R"))
@
<<ReadTrimSchoolingFDData2 original HHs in R file one, cache = F, warnings = F>>=
source(paste0(pathprogram, "ReadTrimSchoolingOriginalHHsFDData2.R"))
@
Enrollment pattern in original schooling panel. `n' indicates NA (either attrition or not reported).
<<Enrollment pattern in original panel>>=
table0(s.1x[tee == 1, .(ObPattern, SchPattern)])
@
Left panel is before dropping \textsf{nnn}, right panel is after: Original panel.
<<Left panel is before dropping nnn right panel is after original panel>>=
cbind(table0(s.1x[, .(tee, RArm)]), 
  table0(s1x[, .(tee, RArm)]))
@
If using \textsf{s1x}, retain only the complete portion of panel. \textsf{sch1} has \Sexpr{nrow(s.1x)} rows. Drop \Sexpr{nrow(s.1x[grepl("nnn", SchPattern), ])} observations in \textsf{sch1} with nnn in \textsf{SchPattern}. 
%and \Sexpr{nrow(s.1x[!grepl("nnn", Spattern) & grepl("1001", EnrollPattern), ])} observations with 1001 in \textsf{EnrollPattern} because they are likely to be errors. This leaves us with \Sexpr{nrow(s1x)} rows. 
<<schooling FD read data original HHs, warning = F>>=
#s.1 <- s.1[!grepl("1001", EnrollPattern), ]
s1x[, Enrolled := as.numeric(Enrolled)]
s1x[, Fromxid := NULL]
s1x[, Tee := .N, by = HHMid]
ds1xd[, Tee := .N, by = HHMid]
@
With OLS,  \Sexpr{table(s1x[tee == 1, Tee])} individuals are repeatedly observed for \Sexpr{names(table(s1x[tee == 1, Tee]))} times, respectively. With FD, \textsf{s1x} is reduced to \Sexpr{nrow(ds1xd)} rows after first-differencing with \Sexpr{table(ds1xd[tee == 2, Tee])} individuals with repeatedly observed for \Sexpr{as.numeric(names(table(ds1xd[tee == 2, Tee])))+1} times, respectively.
Individuals with NAs in \textsf{Enrolled}. \Sexpr{nrow(s1x[is.na(Enrolled) & tee == 1, , drop = F])} obs for \textsf{s1x}. 
%Mostly older children (\Sexpr{round(mean(s.1[is.na(Enrolled), Age_1], na.rm = T), 1)} in \textsf{s1x}, \Sexpr{round(mean(s.2[is.na(Enrolled), Age_1], na.rm = T), 1)} in \textsf{s.2}) but with a high reported enrollment rate (\Sexpr{round(mean(s.1[is.na(Enrolled) & tee == 4, Enrolled]), 1)} for \textsf{s1x}, \Sexpr{round(mean(s.2[is.na(Enrolled) & tee == 4, Enrolled]), 1)} for \textsf{s.2}) at rd 4. We will substitute relevant schooling levels to \textsf{Enrolled}.
Check missingness in schooling level information.
<<tab s1x dummyprimary>>=
table0(apply(s1x[, .(dummyJunior, dummyHigh)], 1, sum))
@
Check missingness in arm information.
<<tab s1x arm info>>=
table0(apply(s1x[, .(dummyTraditional, dummyLarge, dummyLargeGrace, dummyCow)], 1, sum))
@
Drop \Sexpr{sum(apply(s1x[, .(dummyJunior, dummyHigh)], 1, sum)==0)} obs without school level information.
<<Drop obs without school level information>>=
s1x <- s1x[apply(s1x[, .(dummyJunior, dummyHigh)], 1, sum) == 1, ]
ds1xd[, grepout("^Tee$", colnames(ds1xd)) := NULL]
@
An example of dummy interactions: \textsf{\footnotesize \Sexpr{tobeintSchdumTimdum}}.
Obs for \textsf{s1x}.
<<Obs for s1x>>=
table(ds1xd[, tee])
@
Obs for \textsf{s1x} and admin repayment data.
<<Obs for s1x and admin repayment data>>=
table(ds1xRd[, tee])
@
<<ReadTrimSchoolingFDData2 original HHs in R file, cache = F, warnings = F>>=
source(paste0(pathprogram, "ReadTrimSchoolingOriginalHHsFDData2.R"))
@
<<schooling FD select covariates original HHs, echo = T>>=
FileName <- "Schooling"
Regressands <- rep("Enrolled", 4)
Addseparatingcols = NULL; Separatingcolwidth = NULL
Separatingcoltitle = NULL
<<schooling FD estimation covariate selection original HHs>>=
Scsuffixes <- c("", "g", "p", "s", "a", "T", "Tg", "Ts", "D", "Dg", "Da")
exclheader <- paste0("excl", Scsuffixes)
source(paste0(pathprogram, "SchoolingCovariateSelection.R"))
<<schooling FD estimation original HHs, warning = F, results = 'hide'>>=
# Need to place ED14Diff after k > 5.
FileNameHeaderSchooling <- c("", "Grace", "PovertyStatus", "Size", "Attributes",
  "Rd14Diff", "Rd14DiffGrace", "Rd14DiffAttributes")
FileNameHeader <- paste0(FileNameHeaderSchooling, "OriginalHHs")
Scsuffixes <- c("", "g", "p", "s", "a", "D", "Dg", "Da")
listheader <- paste0("sc", Scsuffixes)
exclheader <- paste0("excl", Scsuffixes)
DataToUse1 <- rep("ds1xd", 4)
DataToUse2 <- rep("ds1x34d", 4)
source(paste0(pathprogram, "FDEstimationFile.R"))
<<schooling FD estimation original HHs time interactions, warning = F, results = 'hide'>>=
FileNameHeaderSchooling <- c("TInt", "TIntGrace", "TIntSize")
FileNameHeader <- paste0(FileNameHeaderSchooling, "OriginalHHs")
Scsuffixes <- c("T", "Tg", "Ts")
exclheader <- paste0("excl", Scsuffixes)
listheader <- paste0("sc", Scsuffixes)
source(paste0(pathprogram, "FDEstimationFileSchooling.R"))
<<>>=
#dummy chunk
@

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of school enrollment\label{tab FD enroll original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.48}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "SchoolingOriginalHHsFDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+1}\equiv x_{t+1} - x_{t}$. First-differenced regressands are regressed on categorical and time-variant covariates. Net saving is taken from administrative data and merged with survey data at Year-Month of survey interviews. Head age and literacy are from baseline data. Intercept terms are omitted in estimating equations. Net saving is saving - withdrawal. \\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of school enrollment by attributes\label{tab FD enroll attributes original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.48}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "SchoolingAttributesOriginalHHsFDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+1}\equiv x_{t+1} - x_{t}$. First-differenced regressands are regressed on categorical and time-variant covariates. Net saving is taken from administrative data and merged with survey data at Year-Month of survey interviews. Head age and literacy are from baseline data. Intercept terms are omitted in estimating equations. Net saving is saving - withdrawal. \\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of net school enrollment, ultra poor vs. moderately poor\label{tab FD enroll2 original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "SchoolingPovertystatusOriginalHHsFDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+1}\equiv x_{t+1} - x_{t}$. First-differenced regressands are regressed on categorical and time-variant covariates. Net saving is taken from administrative data and merged with survey data at Year-Month of survey interviews. Head age and literacy are from baseline data. Intercept terms are omitted in estimating equations. Net saving is saving - withdrawal. \\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of school enrollment, with vs. without a grace period\label{tab FD enroll3 original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "SchoolingGraceOriginalHHsFDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+1}\equiv x_{t+1} - x_{t}$. First-differenced regressands are regressed on categorical and time-variant covariates. Net saving is taken from administrative data and merged with survey data at Year-Month of survey interviews. Head age and literacy are from baseline data. Intercept terms are omitted in estimating equations. Net saving is saving - withdrawal. All dummy interaction terms are first demeaned and then interacted.\\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of school enrollment, small size vs. large size\label{tab FD enroll4 original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "SchoolingSizeOriginalHHsFDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+1}\equiv x_{t+1} - x_{t}$. First-differenced regressands are regressed on categorical and time-variant covariates. Net saving is taken from administrative data and merged with survey data at Year-Month of survey interviews. Head age and literacy are from baseline data. Intercept terms are omitted in estimating equations. Net saving is saving - withdrawal. All dummy interaction terms are first demeaned and then interacted.\\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}


\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of school enrollment, round 1 vs. round 4 differences\label{tab FD enroll5 original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "SchoolingRd14DiffOriginalHHsFDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+1}\equiv x_{t+1} - x_{t}$. First-differenced regressands are regressed on categorical and time-variant covariates. Net saving is taken from administrative data and merged with survey data at Year-Month of survey interviews. Head age and literacy are from baseline data. Intercept terms are omitted in estimating equations. Net saving is saving - withdrawal. All dummy interaction terms are first demeaned and then interacted.\\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of school enrollment, round 1 vs. round 4 differences by attributes\label{tab FD enroll5 attributes original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "SchoolingRd14DiffAttributesOriginalHHsFDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+1}\equiv x_{t+1} - x_{t}$. First-differenced regressands are regressed on categorical and time-variant covariates. Net saving is taken from administrative data and merged with survey data at Year-Month of survey interviews. Head age and literacy are from baseline data. Intercept terms are omitted in estimating equations. Net saving is saving - withdrawal. All dummy interaction terms are first demeaned and then interacted.\\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of school enrollment, round 1 vs. round 4 differences, grace period\label{tab FD enroll6 14  original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "SchoolingRd14DiffGraceOriginalHHsFDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+1}\equiv x_{t+1} - x_{t}$. First-differenced regressands are regressed on categorical and time-variant covariates. Net saving is taken from administrative data and merged with survey data at Year-Month of survey interviews. Head age and literacy are from baseline data. Intercept terms are omitted in estimating equations. Net saving is saving - withdrawal. All dummy interaction terms are first demeaned and then interacted.\\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}


\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of school enrollment, period interactions\label{tab FD enroll6 original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.45}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere,"SchoolingTIntOriginalHHsFDEstimationResults1.tex")}}};
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+1}\equiv x_{t+1} - x_{t}$. First-differenced regressands are regressed on categorical and time-variant covariates. Net saving is taken from administrative data and merged with survey data at Year-Month of survey interviews. Head age and literacy are from baseline data. Intercept terms are omitted in estimating equations. Net saving is saving - withdrawal. All dummy interaction terms are first demeaned and then interacted.\\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \ref{tab FD enroll6}: FD estimation of school enrollment, period interactions, continued \label{tab FD enroll6c original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.45}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "SchoolingTIntOriginalHHsFDEstimationResults2.tex")}}};
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+1}\equiv x_{t+1} - x_{t}$. First-differenced regressands are regressed on categorical and time-variant covariates. Net saving is taken from administrative data and merged with survey data at Year-Month of survey interviews. Head age and literacy are from baseline data. Intercept terms are omitted in estimating equations. Net saving is saving - withdrawal. All dummy interaction terms are first demeaned and then interacted.\\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of school enrollment, period interactions, grace period\label{tab FD enroll7 original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.5}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "SchoolingTIntGraceOriginalHHsFDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+1}\equiv x_{t+1} - x_{t}$. First-differenced regressands are regressed on categorical and time-variant covariates. Net saving is taken from administrative data and merged with survey data at Year-Month of survey interviews. Head age and literacy are from baseline data. Intercept terms are omitted in estimating equations. Net saving is saving - withdrawal. All dummy interaction terms are first demeaned and then interacted.\\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}


\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of school enrollment, period interactions, small vs. large sized loans\label{tab FD enroll8 original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.5}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "SchoolingTIntSizeOriginalHHsFDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+1}\equiv x_{t+1} - x_{t}$. First-differenced regressands are regressed on categorical and time-variant covariates. Net saving is taken from administrative data and merged with survey data at Year-Month of survey interviews. Head age and literacy are from baseline data. Intercept terms are omitted in estimating equations. Net saving is saving - withdrawal. All dummy interaction terms are first demeaned and then interacted.\\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}


\subsection{Assets}

Assets reportd in rd 1 is too small, indicating possible errors or different way of reporting only in rd 1. So we also examine rd 2 vs. rd 4 differences (\textsf{as3, as4}).

<<ReadTrimAssetFDData original HHs, cache = F, warning = F, eval = F, child='c:/data/GUK/analysis/program/ReadTrimAssetOriginalHHsFDData.rnw'>>=
@

<<ReadTrimAssetFDData original HHs using R file, cache = F, warning = F, >>=
source(paste0(pathprogram, "ReadTrimAssetOriginalHHsFDData.R"))
@

Main assets are household assets (\textsf{HAssetAmount}) and production assets (\textsf{PAssetAmount}) both with \Sexpr{nrow(ass1[!is.na(HAssetAmount), ])} observations. After first-differencing, they become \Sexpr{nrow(das1d)} observations, with \Sexpr{table(das1d[, Tee])} households observed for \Sexpr{as.numeric(names(table(das1d[, Tee])))+1} times. We also examine rd 2 vs. rd 4 differences, which has \Sexpr{nrow(ass3[!is.na(HAssetAmount), ])} observations. After first-differencing, they become \Sexpr{nrow(das3d)} observations.


<<asset regression set parameters original HHs>>=
FileName <- "Asset"
FileNameHeader <- paste0(c("", "Grace", "PovertyStatus", "Size", "Attributes",
  "Rd24Diff", "Rd24Grace", "Rd24DiffAttributes"), "OriginalHHs")
Assuffixes <- c("", "G", "P", "S", "a", "D", "DG", "Da")
listheader <- paste0("as", Assuffixes)
DataToUse1 <- c(rep("das1d", 3), "das1Rd", rep("das2d", 3), "das2Rd")
DataToUse2 <- c(rep("das3d", 3), "das3Rd", rep("das4d", 3), "das4Rd")
Regressands <- c(rep("HAssetAmount", 4), rep("PAssetAmount", 4))
Addseparatingcols = 4; Separatingcolwidth = .2
Separatingcoltitle = c("Household asset amount (Tk)", "Productive asset amount (Tk)")
<<asset regression select covariates original HHs, echo = T>>=
source(paste0(pathprogram, "AssetCovariateSelection.R"))
<<asset regression estimation original HHs>>=
exclheader <- paste0("excl", Assuffixes)
source(paste0(pathprogram, "FDEstimationFile.R"))
<<>>=
#dummy chunk
@

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of assets\label{tab FD assets original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "Asset", FileNameHeader[1], "FDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+k}\equiv x_{t+k} - x_{t}$  for $k=1, 2, \dots$. Saving and repayment misses are taken from administrative data and merged with survey data at Year-Month of survey interviews. Intercept terms are omitted in estimating equations. Sample is continuing members and replacing members of early rejecters and received loans prior to 2015 Janunary. Household assets do not include livestock. Regressions (1)-(3), (5)-(6) use only arm and calendar information. (4) and (7) use previous six month repayment and saving information which is lacking in rd 1, hence starts from rd 2.\\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of assets by attributes\label{tab FD assets attributes original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "Asset", FileNameHeader[5], "FDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+k}\equiv x_{t+k} - x_{t}$  for $k=1, 2, \dots$. Saving and repayment misses are taken from administrative data and merged with survey data at Year-Month of survey interviews. Intercept terms are omitted in estimating equations. Sample is continuing members and replacing members of early rejecters and received loans prior to 2015 Janunary. Household assets do not include livestock. Regressions (1)-(3), (5)-(6) use only arm and calendar information. (4) and (7) use previous six month repayment and saving information which is lacking in rd 1, hence starts from rd 2.\\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of assets, moderately poor vs. ultra poor\label{tab FD assets2 original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "Asset", FileNameHeader[3], "FDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+k}\equiv x_{t+k} - x_{t}$  for $k=1, 2, \dots$. Saving and repayment misses are taken from administrative data and merged with survey data at Year-Month of survey interviews. Intercept terms are omitted in estimating equations. Sample is continuing members and replacing members of early rejecters and received loans prior to 2015 Janunary. Household assets do not include livestock. \\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of assets, with vs. without a grace period\label{tab FD assets3 original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "Asset", FileNameHeader[2], "FDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+k}\equiv x_{t+k} - x_{t}$  for $k=1, 2, \dots$. Saving and repayment misses are taken from administrative data and merged with survey data at Year-Month of survey interviews. Intercept terms are omitted in estimating equations. Sample is continuing members and replacing members of early rejecters and received loans prior to 2015 Janunary. Household assets do not include livestock. \\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of assets, small vs. large size loans\label{tab FD assets4 original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "Asset", FileNameHeader[4], "FDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+k}\equiv x_{t+k} - x_{t}$  for $k=1, 2, \dots$. Saving and repayment misses are taken from administrative data and merged with survey data at Year-Month of survey interviews. Intercept terms are omitted in estimating equations. Sample is continuing members and replacing members of early rejecters and received loans prior to 2015 Janunary. Household assets do not include livestock. \\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of assets, round 2 and 4 comparison\label{tab FD assets rd24 original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "Asset", FileNameHeader[6], "FDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates between round 2 and 4. A first-difference is defined as $\Delta x_{t+k}\equiv x_{t+k} - x_{t}$ for $k=1, 2, \dots$. Saving and repayment misses are taken from administrative data and merged with survey data at Year-Month of survey interviews. Intercept terms are omitted in estimating equations. Sample is continuing members and replacing members of early rejecters and received loans prior to 2015 Janunary. Household assets do not include livestock. Regressions (1)-(3), (5)-(6) use only arm and calendar information. (4) and (7) use previous six month repayment and saving information which is lacking in rd 1, hence starts from rd 2.\\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of assets, round 2 and 4 comparison, grace period\label{tab FD assets rd24 grace original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "Asset", FileNameHeader[7], "FDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates between round 2 and 4. A first-difference is defined as $\Delta x_{t+k}\equiv x_{t+k} - x_{t}$ for $k=1, 2, \dots$. Saving and repayment misses are taken from administrative data and merged with survey data at Year-Month of survey interviews. Intercept terms are omitted in estimating equations. Sample is continuing members and replacing members of early rejecters and received loans prior to 2015 Janunary. Household assets do not include livestock. Regressions (1)-(3), (5)-(6) use only arm and calendar information. (4) and (7) use previous six month repayment and saving information which is lacking in rd 1, hence starts from rd 2.\\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}


<<asset regression select covariates robustness original HHs, echo = F>>=
# Compare asset changes between arms and "pure control" (loan nonreceivers)
Assuffixes <- c("", "G", "P", "S", "a")
source(paste0(pathprogram, "AssetCovariateSelectionRobustness.R"))
<<asset regression robustness original HHs, eval= F>>=
FileNameHeader <- paste0(FileNameHeader, "Robustness")
listheader <- paste0("as", Assuffixes)
exclheader <- paste0("excl", Assuffixes)
DataToUse1 <- DataToUse2 <- c(rep("das1d", 3), rep("das2d", 3))
Regressands <- c(rep("HAssetAmount", 3), rep("PAssetAmount", 3))
Addseparatingcols = 3; Separatingcolwidth = .2
Separatingcoltitle = c("Household asset amount (Tk)", "Productive asset amount (Tk)")
source(paste0(pathprogram, "FDEstimationFile.R"))
@

Robustness: To understand underlying pattern of asset accumulation, we compare the loan recipients and loan rejecters. This distinction is made by households by choice, so the indicator variable is considered to be endogenous to asset level. This is a limitation, however, it has its own merit in giving an idea how loan recipients faired during the study period relative to loan nonrecipients. \textsc{\small Table \ref{tab FD assets pure control original HHs}} shows that the pure controls also experience similar increase-increase-decrease pattern for household assets. This suggests the pattern observed among the loan recipients may be a systemic pattern of the area, not necessarily reflecting the repayment burdern. This partially relieves a concern that repayment burden was excessive for loan recipients.

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of assets, loan recipients vs. pure control\label{tab FD assets pure control original HHs}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "AssetOriginalHHsRobustnessFDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates between round 2 and 4. A first-difference is defined as $\Delta x_{t+k}\equiv x_{t+k} - x_{t}$ for $k=1, 2, \dots$. Saving and repayment misses are taken from administrative data and merged with survey data at Year-Month of survey interviews. Pure control is members not receiving loans while they were put on a wait list. 
Sample is continuing members and replacing members of early rejecters. Household assets do not include livestock. Regressions (1)-(2), (4)-(5) use only arm and calendar information. (3) and (6) information if the household was exposed to the flood in round 1. Pure controls are households who rejected to receive a loan.\\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\begin{palepinkleftbar}
\begin{finding}
\textsc{\small Table \ref{tab FD assets original HH}} (1) shows household assets increase after receiving the loans in all arms. Total incremant is largest among the \textsf{large grace} arm as indicated in (2). In (3), increments are positive in rd 2 - 3, suggesting substantial purchase after receiving a loan. Significant decreases in rd 3 - 4 for all arms indicate liquidation of assets for repayment. Productive assets of large size loan arms decrease in rd 3 - 4 in \textsc{\small Table \ref{tab FD assets3 original HH}} (6). These may indicate forced liquidation for repayment, which can entail efficiency losses.
\end{finding}
\end{palepinkleftbar}


\subsection{Livestock}

<<ReadTrimLivestockFDData original HHs, cache = F, child='c:/data/GUK/analysis/program/ReadTrimLivestockOriginalHHsFDData.rnw'>>=
@
<<ReadTrimLivestockFDData in R file, cache = F>>=
source(paste0(pathprogram, "ReadTrimLivestockFDData.R"))
@
<<livestock regression estimation set parameters original HHs>>=
FileName <- "Livestock"
FileNameHeader <- paste0(c("", "Grace", "PovertyStatus", "Size", "Attributes",
    "TInt", "TIntGrace", "TIntSize", "Rd14Diff", "Rd14DiffGrace", "Rd14DiffAttributes"),
     "OriginalHHs")
Lvsuffixes <- c("", "G", "P", "S", "a", "T", "TG", "TS", "D", "DG", "Da")
listheader <- paste0("lv", Lvsuffixes)
DataToUse1 <- rep("dlvod", 6)
DataToUse2 <- rep("dlvo3d", 6)
tableboxwidth <- 4.5
Regressands <- rep("TotalImputedValue", 6)
Addseparatingcols <- NULL; Separatingcolwidth <- NULL
Separatingcoltitle <- NULL
<<livestock regression select covariates original HHs, echo = T>>=
source(paste0(pathprogram, "LivestockCovariateSelection.R"))
<<livestock regression estimation original HHs>>=
exclheader <- paste0("excl", Lvsuffixes)
source(paste0(pathprogram, "FDEstimationFile.R"))
@



\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of livestock holding values\label{tab FD livestock original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "Livestock", FileNameHeader[1], "FDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+1}\equiv x_{t+1} - x_{t}$. Saving and repayment misses are taken from administrative data and merged with survey data at Year-Month of survey interviews. Intercept terms are omitted in estimating equations. Sample is continuing members and replacing members of early rejecters and received loans prior to 2015 Janunary. Regressand is \textsf{TotalImputedValue}, a sum of all livestock holding values evaluated at respective median market prices in the same year. \\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of livestock holding values by attributes\label{tab FD livestock attributes original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "Livestock", FileNameHeader[5], "FDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+1}\equiv x_{t+1} - x_{t}$. Saving and repayment misses are taken from administrative data and merged with survey data at Year-Month of survey interviews. Intercept terms are omitted in estimating equations. Sample is continuing members and replacing members of early rejecters and received loans prior to 2015 Janunary. Regressand is \textsf{TotalImputedValue}, a sum of all livestock holding values evaluated at respective median market prices in the same year. \\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}



\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of livestock holding values, ultra vs. moderately poor\label{tab FD livestock poor original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "Livestock", FileNameHeader[3], "FDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+1}\equiv x_{t+1} - x_{t}$. Saving and repayment misses are taken from administrative data and merged with survey data at Year-Month of survey interviews. Intercept terms are omitted in estimating equations. Sample is continuing members and replacing members of early rejecters and received loans prior to 2015 Janunary. Regressand is \textsf{TotalImputedValue}, a sum of all livestock holding values evaluated at respective median market prices in the same year. \\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of livestock holding values, rd 1 vs. rd 4 comparison\label{tab FD livestock3 original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "Livestock", FileNameHeader[8], "FDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+1}\equiv x_{t+1} - x_{t}$. Saving and repayment misses are taken from administrative data and merged with survey data at Year-Month of survey interviews. Intercept terms are omitted in estimating equations. Sample is continuing members and replacing members of early rejecters and received loans prior to 2015 Janunary. Regressand is \textsf{TotalImputedValue}, a sum of all livestock holding values evaluated at respective median market prices in the same year. \\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

Check quickly if the estimated results make sense.
<<warning = F>>=
lvo <-  readRDS(paste0(pathsaveHere, "LivestockAdminDataUsedForEstimation.rds"))
setkey(lvo, Arm, tee)
lvostat <- lvo[grepl("es", creditstatus),.(MeanIV = mean(TotalImputedValue, na.rm = T), 
  StdIV = var(TotalImputedValue, na.rm = T)^(.5), 
  N = sum(!is.na(TotalImputedValue))), by = .(Arm, tee)]
lvostat[, c("ciLB", "ciUB") := list(MeanIV - StdIV * qt(.975, N- 1), MeanIV + StdIV * qt(.975, N- 1))]
setkey(lvo, hhid, survey)
lvo[hhid %in% hhid[TotalImputedValue > 100000],
  .(hhid, Arm, Year, LivestockCode, number_owned, 
  mrkt_value, TotalImputedValue)]
lvo[, HoldingClass := "below 1000"]
lvo[TotalImputedValue >= 1000 & TotalImputedValue < 30000, 
  HoldingClass := "1000-29999"]
lvo[TotalImputedValue >= 30000 & TotalImputedValue < 50000, 
  HoldingClass := "30000-49999"]
lvo[TotalImputedValue >= 50000, 
  HoldingClass := "above 50000"]
lvo[, HoldingClass := factor(HoldingClass, 
  levels = c("below 1000", "1000-29999", "30000-49999", "above 50000"))]
setkey(lvo, Arm, HoldingClass, tee)
lvostat2 <- lvo[grepl("es", creditstatus),.(MeanIV = mean(TotalImputedValue, na.rm = T), 
  StdIV = var(TotalImputedValue, na.rm = T)^(.5), 
  N = sum(!is.na(TotalImputedValue))), by = .(Arm, HoldingClass, tee)]
lvostat2[, c("ciLB", "ciUB") := list(MeanIV - StdIV * qt(.975, N- 1), MeanIV + StdIV * qt(.975, N- 1))]
lvostat3 <- lvo[grepl("es", creditstatus),.(MeanIV = mean(TotalImputedValue, na.rm = T), 
  StdIV = var(TotalImputedValue, na.rm = T)^(.5), 
  N = sum(!is.na(TotalImputedValue))), by = .(Arm, HoldingClass, Year)]
lvostat3[, c("ciLB", "ciUB") := list(MeanIV - StdIV * qt(.975, N- 1), MeanIV + StdIV * qt(.975, N- 1))]
<<Total imputed value histogram original HHs, warning = F, message = F, fig.align='center', fig.height = 3, fig.width = 10, fig.cap = paste0("Total imputed value of livestock holding", "\\\\ {\\footnotesize Livestock holding values are computed by using respective median prices of each year.\\setlength{\\baselineskip}{8pt}}"), fig.lp = 'Figure '>>=
library(ggplot2)
ggplot(data = lvo[TotalImputedValue > 0], aes(TotalImputedValue)) + 
  geom_histogram(breaks = c(0, seq(10000, 200000, 10000))) + 
  #scale_x_log10(breaks = c(1, 100, 1000, 10000, 20000, 30000, 50000)) +
  scale_x_continuous(breaks = seq(0, 200000, 20000)) +
  theme(axis.text.x = element_text(angle = 90, vjust = 1, hjust = 1), 
   strip.text.y = element_text(colour = "blue"))+
  facet_grid(tee ~ Arm)
<<Histogram of livestock holding classes original HHs, warning = F, message = F, fig.align='center', fig.height = 5, fig.width = 10, fig.cap = paste0("Histogram of livestock holding classes", "\\\\ {\\footnotesize Livestock holding values are computed by using respective median prices of each year.\\setlength{\\baselineskip}{8pt}}"), fig.lp = 'Figure '>>=
library(ggplot2)
ggplot(data = lvostat2, aes(HoldingClass, N)) + 
  geom_col() +
  xlab("Livestock holding classes") +
  theme(axis.text.x = element_text(angle = 90, vjust = 1, hjust = 1), 
    strip.text.y = element_text(colour = "blue"))+
  facet_grid(tee ~ Arm)
<<Histogram of livestock holding classes by year original HHs, warning = F, message = F, fig.align='center', fig.height = 5, fig.width = 10, fig.cap = paste0("Histogram of livestock holding classes by year", "\\\\ {\\footnotesize Livestock holding values are computed by using respective median prices of each year.\\setlength{\\baselineskip}{8pt}}"), fig.lp = 'Figure '>>=
library(ggplot2)
ggplot(data = lvostat3, aes(HoldingClass, N)) + 
  geom_col() +
  xlab("Livestock holding classes") +
  theme(axis.text.x = element_text(angle = 90, vjust = 1, hjust = 1), 
    strip.text.y = element_text(colour = "blue"))+
  facet_grid(Year ~ Arm)
@
\begin{itemize}
\vspace{1.0ex}\setlength{\itemsep}{1.0ex}\setlength{\baselineskip}{12pt}
\item	Why does \textsf{cow} report below 1000 holding in rds 2-4?
\end{itemize}
<<>>=
lvo[, NumberOfCows := 0L]
lvo[grepl("ow", LivestockCode), NumberOfCows := as.integer(number_owned)]
lvo[,
  .(MeanImputedVal = mean(TotalImputedValue, na.rm = T), 
  MeanNumCows = mean(NumberOfCows, na.rm = T), 
  N = sum(!is.na(TotalImputedValue))), by = .(Arm, survey)]
#lvo[,.(N = sum(!is.na(TotalImputedValue))), by = .(Arm, survey)]
<<Number of cows by year original HHs, warning = F, message = F, fig.align='center', fig.height = 4, fig.width = 10, fig.cap = paste0("Number of cows/oxen by year", "\\\\ {\\footnotesize Means are mean holding among the owners. Totals are total number of cows/oxen owned. Mean and total number of cows/oxen may diverge because the number of owners differ across round.\\setlength{\\baselineskip}{8pt}}"), fig.lp = 'Figure '>>=
library(ggplot2)
lvo[, LivestockType := LivestockCode]
lvo[grepl("Ox|Cow", LivestockCode), LivestockType := "Cow/Ox"]
lvo[grepl("Goat|She", LivestockCode), LivestockType := "Goat/Sheep"]
lvo[grepl("Duc|Hen", LivestockCode), LivestockType := "Poultry"]
lvo[, LivestockType := factor(LivestockType)]
lvotype <- lvo[grepl("es", creditstatus), 
  .(Std = var(number_owned, na.rm = T)^(.5), 
    Total = sum(number_owned, na.rm = T), 
    N = sum(!is.na(number_owned))), 
    by = .(Arm,  LivestockType, Year)]
lvotype <- lvotype[!is.na(Arm), ]
lvotype[, Mean := round(Total/N, 1)]
setnames(lvotype, grepout("^T|N|^S|^M", colnames(lvotype)), 
  paste0("value.", grepout("^T|N|^S|^M", colnames(lvotype))))
lvotype[is.na(LivestockType)|LivestockType == "", LivestockType := "Other"]
lvotype[grepl("cow", LivestockType), LivestockType := "Cow/Ox"]
lvotypel <- reshape(lvotype, direction = "long", 
  idvar = c("Arm", "LivestockType", "Year"),
  varying = grepout("val", colnames(lvotype)))
lvotypel <- lvotypel[grepl("Cow", LivestockType) & grepl("Mean|Tot|^N", time), ]
lvotypel <- lvotypel[!is.na(Year), ]
setkey(lvotypel, Arm, Year, LivestockType)
lvotypel[, Variable := time]
lvotypel[grepl("N", time), Variable := "Number of owners"]
lvotypel[, Variable := factor(Variable, levels = c("Mean", "Total", "Number of owners"))]
ggplot(data = lvotypel, aes(Year, value)) + 
  geom_col(data = lvotypel[grepl("Total", Variable), ]) +
  geom_col(data = lvotypel[grepl("Mean", Variable), ]) +
  geom_col(data = lvotypel[grepl("N", Variable), ]) +
  xlab("Year") +
  theme(axis.text.x = element_text(angle = 90, vjust = 1, hjust = 1), 
    strip.text.y = element_text(colour = "blue"))+
  facet_grid(Variable ~ Arm, scale = "free_y")
@
\begin{palepinkleftbar}
\begin{finding}
\textsc{\small Figure \ref{Figure Total imputed value histogram}} shows general increase in upper holding classes round 3 and further upper holding classes in round 4. \textsc{\small Figure \ref{Figure Number of cows by year}} shows livestock type is not entered (yet collected) in rd3. At this moment, one needs to omit rd 3. All estimation results by far are subject to this omission.
\end{finding}
\end{palepinkleftbar}


\subsection{Assets+Livestock}



<<ReadTrimAssetFDData original HHs again , cache = F, warning = F, child='c:/data/GUK/analysis/program/ReadTrimAssetFDData.rnw'>>=
<<ReadTrimLivestockFDData original HHs again, cache = F, child='c:/data/GUK/analysis/program/ReadTrimLivestockFDData.rnw'>>=
<<merge assets and livestock original HHs data, cache = F, child='c:/data/GUK/analysis/program/MergeAssetsAndLivestockOriginalHHsTakeFD.rnw'>>=
@


<<AssetLivestock set parameters original HHs>>=
FileName <- "AssetLivestock"
FileNameHeader <- 
  paste0(c("", "Grace", "PovertyStatus", "Size", "Attributes",
    "TInt", "TIntGrace", "TIntSize", "Rd24Diff", "Rd24DiffGrace", 
    "Rd24DiffPovertyStatus", "Rd24DiffSize", "Rd24DiffAttributes"), "OriginalHHs")
alsuffixes <- c("", "G", "P", "S", "a", "T", "TG", "TS", "D", "DG", "DP", "DS", "Da")
listheader <- paste0("al", alsuffixes)
DataToUse1 <- rep("dAL1d", 6)
DataToUse2 <- rep("dAL2d", 6)
Addseparatingcols <- NULL; Separatingcolwidth <- NULL
Separatingcoltitle <- NULL
Regressands <- rep("TotalValue", 6)
tableboxwidth <- 4.5
<<asset livestock regression select covariates original HHs, echo = T>>=
source(paste0(pathprogram, "AssetLivestockCovariateSelection.R"))
<<asset livestock regression estimation original HHs>>=
exclheader <- paste0("excl", alsuffixes)
source(paste0(pathprogram, "FDEstimationFile.R"))
<<Total values original HHs, warning = F, message = F, fig.align='center', fig.height = 3, fig.width = 10, fig.cap = paste0("Total asset values", "\\\\ {\\footnotesize Sum of assets and livestock holding values. Original 1600 HHs.\\setlength{\\baselineskip}{8pt}}"), fig.lp = 'Figure '>>=
library(ggplot2)
ggplot(data = ALfig, aes(group = tee)) + 
#  geom_point(size = .1, position = position_dodge(width = .5)) +
#  geom_smooth(span = .5, aes(colour = Arm, group = Arm)) +
  #scale_x_log10(breaks = c(1, 100, 1000, 10000, 20000, 30000, 50000)) +
  geom_boxplot(aes(x= tee, y = TotalValue, colour = Arm))+
  #scale_y_log10(breaks = c(1, 1000, 5000, 10000, 20000, 50000, 100000, 500000)) +
  scale_y_continuous(breaks = seq(0, 100000, 10000), limits = c(0, 100000)) +
  theme(axis.text.x = element_text(angle = 90, vjust = 1, hjust = 1), 
   strip.text.y = element_text(colour = "blue"), legend.position = "none") +
  facet_grid(. ~ Arm)
<<>>=
# dummy chunk
@

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of total assets, original HHs\label{tab FD total assets original HHs}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "AssetLivestockOriginalHHsFDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+k}\equiv x_{t+k} - x_{t}$  for $k=1, 2, \dots$. Saving and repayment misses are taken from administrative data and merged with survey data at Year-Month of survey interviews. Intercept terms are omitted in estimating equations. Sample is continuing members and replacing members of early rejecters and received loans prior to 2015 Janunary. Household assets do not include livestock. Regressions (1)-(3), (5)-(6) use only arm and calendar information. (4) and (7) use previous six month repayment and saving information which is lacking in rd 1, hence starts from rd 2.\\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of total assets by attributes\label{tab FD total assets attributes original HHs}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "AssetLivestockAttributesOriginalHHsFDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+k}\equiv x_{t+k} - x_{t}$  for $k=1, 2, \dots$. Saving and repayment misses are taken from administrative data and merged with survey data at Year-Month of survey interviews. Intercept terms are omitted in estimating equations. Sample is continuing members and replacing members of early rejecters and received loans prior to 2015 Janunary. Household assets do not include livestock. Regressions (1)-(3), (5)-(6) use only arm and calendar information. (4) and (7) use previous six month repayment and saving information which is lacking in rd 1, hence starts from rd 2.\\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}


\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of total assets, moderately poor vs. ultra poor, original HHs \label{tab FD total assets2 original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "AssetLivestockPovertyStatusOriginalHHsFDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+k}\equiv x_{t+k} - x_{t}$  for $k=1, 2, \dots$. Saving and repayment misses are taken from administrative data and merged with survey data at Year-Month of survey interviews. Intercept terms are omitted in estimating equations. Sample is continuing members and replacing members of early rejecters and received loans prior to 2015 Janunary. Household assets do not include livestock. \\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of total assets, small vs. large size loans, original HHs \label{tab FD total assets3 original HHs}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "AssetLivestockSizeOriginalHHsFDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+k}\equiv x_{t+k} - x_{t}$  for $k=1, 2, \dots$. Saving and repayment misses are taken from administrative data and merged with survey data at Year-Month of survey interviews. Intercept terms are omitted in estimating equations. Sample is continuing members and replacing members of early rejecters and received loans prior to 2015 Janunary. Household assets do not include livestock. \\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of total assets, with vs. without a grace period, original HHs \label{tab FD total assets4 original HHs}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "AssetLivestockGraceOriginalHHsFDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+k}\equiv x_{t+k} - x_{t}$  for $k=1, 2, \dots$. Saving and repayment misses are taken from administrative data and merged with survey data at Year-Month of survey interviews. Intercept terms are omitted in estimating equations. Sample is continuing members and replacing members of early rejecters and received loans prior to 2015 Janunary. Household assets do not include livestock. \\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of total assets, round 2 and 4 comparison, original HHs \label{tab FD total assets rd24, original HHs }}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "AssetLivestockRd24DiffOriginalHHsFDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates between round 2 and 4. A first-difference is defined as $\Delta x_{t+k}\equiv x_{t+k} - x_{t}$ for $k=1, 2, \dots$. Saving and repayment misses are taken from administrative data and merged with survey data at Year-Month of survey interviews. Intercept terms are omitted in estimating equations. Sample is continuing members and replacing members of early rejecters and received loans prior to 2015 Janunary. Household assets do not include livestock. Regressions (1)-(3), (5)-(6) use only arm and calendar information. (4) and (7) use previous six month repayment and saving information which is lacking in rd 1, hence starts from rd 2.\\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of total assets, round 2 and 4 comparison, grace period, original HHs \label{tab FD total assets rd24 grace original HHs}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "AssetLivestockRd24DiffGraceOriginalHHsFDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates between round 2 and 4. A first-difference is defined as $\Delta x_{t+k}\equiv x_{t+k} - x_{t}$ for $k=1, 2, \dots$. Saving and repayment misses are taken from administrative data and merged with survey data at Year-Month of survey interviews. Intercept terms are omitted in estimating equations. Sample is continuing members and replacing members of early rejecters and received loans prior to 2015 Janunary. Household assets do not include livestock. Regressions (1)-(3), (5)-(6) use only arm and calendar information. (4) and (7) use previous six month repayment and saving information which is lacking in rd 1, hence starts from rd 2.\\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of total assets, round 2 and 4 comparison, ultra poor vs. moderately poor, original HHs \label{tab FD total assets rd24 poor original HHs}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "AssetLivestockRd24DiffPovertyStatusOriginalHHsFDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates between round 2 and 4. A first-difference is defined as $\Delta x_{t+k}\equiv x_{t+k} - x_{t}$ for $k=1, 2, \dots$. Saving and repayment misses are taken from administrative data and merged with survey data at Year-Month of survey interviews. Intercept terms are omitted in estimating equations. Sample is continuing members and replacing members of early rejecters and received loans prior to 2015 Janunary. Household assets do not include livestock. Regressions (1)-(3), (5)-(6) use only arm and calendar information. (4) and (7) use previous six month repayment and saving information which is lacking in rd 1, hence starts from rd 2.\\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\clearpage
\subsection{Incomes}


<<ReadTrimIncomeFDData original HHs, cache = F, child='c:/data/GUK/analysis/program/ReadTrimIncomeOriginalHHsFDData.rnw'>>=
@
<<ReadTrimIncomeFDData original HHs by R file>>=
source(paste0(pathprogram, "ReadTrimIncomeOriginalHHsFDData.R"))
@

Income sources are mainly labour incomes (\textsf{lab}) and farm revenues (\textsf{far}) with \Sexpr{nrow(lab)} and \Sexpr{nrow(far)} observations, respectively. After first-differencing, they become \Sexpr{nrow(dlabd)} and \Sexpr{nrow(dfard)} observations, with \Sexpr{table(dlabd[, Tee])} households observed for \Sexpr{as.numeric(names(table(dlabd[, Tee])))+1} times. 


Obs for survey labour income.
<<>>=
table(dlabd[, tee])
@
Obs for survey labour income and admin repayment data.
<<>>=
table(dlabRd[, tee])
table(dfarRd[, tee])
@
Obs for survey farm revenue.
<<>>=
table(dfard[, tee])
@
Obs for survey farm revenue and admin repayment data.
<<>>=
table(dfarRd[, tee])
dlabRd <- dlabRd[tee > 2, ]
dfard <- dfard[tee > 2, ]
dfarRd <- dfarRd[tee > 2, ]

<<income regression set parameters original HHs>>=
FileName <- "Incomes"
FileNameHeader <- paste0(c("", "Grace", "PovertyStatus", "Size", "Attributes"),
   "OriginalHHs")
lbsuffixes <- c("", "g", "p", "s", "a")
listheader <- paste0("lb", lbsuffixes)
Regressands <- c(rep("TotalHHLabourIncome", 4), rep("TotalRevenue", 3))
DataToUse1 <- DataToUse2 <- c(rep("dlabd", 3), "dlabRd", rep("dfard", 2), "dfarRd")
Addseparatingcols = 4; Separatingcolwidth = .2
Separatingcoltitle = c("Labour income (Tk)", "Farm income (Tk)")
<<incomes select covariates original HHs, echo = T>>=
source(paste0(pathprogram, "IncomeCovariateSelection.R"))
<<income FD estimation original HHs>>=
exclheader <- paste0("excl", lbsuffixes)
source(paste0(pathprogram, "FDEstimationFile.R"))
<<incomes select covariates robustness original HHs, echo = F, eval = F>>=
source(paste0(pathprogram, "IncomeCovariateSelectionRobustness.R"))
<<income FD estimation robustness original HHs, echo = F, eval = F>>=
FileNameHeader <- paste0(FileNameHeader, "Robustness")
exclheader <- paste0("excl", lbsuffixes)
source(paste0(pathprogram, "FDEstimationFile.R"))
<<>>=
#dummy chunk
@

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of incomes\label{tab FD incomes original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "Incomes", FileNameHeader[1], "FDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+1}\equiv x_{t+1} - x_{t}$. Saving and repayment misses are taken from administrative data and merged with survey data at Year-Month of survey interviews. Intercept terms are omitted in estimating equations. Sample is continuing members and replacing members of early rejecters and received loans prior to 2015 Janunary. Labour income is in 1000 Tk unit andis sum of all earned labour incomes. Farm revenue is total of agricultural produce sales. \\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of incomesby attributes \label{tab FD incomes attributes original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "Incomes", FileNameHeader[5], "FDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+1}\equiv x_{t+1} - x_{t}$. Saving and repayment misses are taken from administrative data and merged with survey data at Year-Month of survey interviews. Intercept terms are omitted in estimating equations. Sample is continuing members and replacing members of early rejecters and received loans prior to 2015 Janunary. Labour income is in 1000 Tk unit andis sum of all earned labour incomes. Farm revenue is total of agricultural produce sales. \\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of incomes, moderately poor vs. ultra poor\label{tab FD incomes2 original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "Incomes", FileNameHeader[3], "FDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+1}\equiv x_{t+1} - x_{t}$. Saving and repayment misses are taken from administrative data and merged with survey data at Year-Month of survey interviews. Intercept terms are omitted in estimating equations. Sample is continuing members and replacing members of early rejecters and received loans prior to 2015 Janunary. Labour income is in 1000 Tk unit andis sum of all earned labour incomes. Farm revenue is total of agricultural produce sales. \\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of incomes, loan size\label{tab FD incomes3 original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "Incomes", FileNameHeader[4], "FDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+1}\equiv x_{t+1} - x_{t}$. Saving and repayment misses are taken from administrative data and merged with survey data at Year-Month of survey interviews. Intercept terms are omitted in estimating equations. Sample is continuing members and replacing members of early rejecters and received loans prior to 2015 Janunary. Labour income is in 1000 Tk unit andis sum of all earned labour incomes. Farm revenue is total of agricultural produce sales. \\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of incomes, with vs. without a grace period\label{tab FD incomes4 original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "Incomes", FileNameHeader[2], "FDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+1}\equiv x_{t+1} - x_{t}$. Saving and repayment misses are taken from administrative data and merged with survey data at Year-Month of survey interviews. Intercept terms are omitted in estimating equations. Sample is continuing members and replacing members of early rejecters and received loans prior to 2015 Janunary. Labour income is in 1000 Tk unit andis sum of all earned labour incomes. Farm revenue is total of agricultural produce sales. \\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}


\begin{palepinkleftbar}
\begin{finding}
\textsc{\small Table \ref{tab FD incomes original HH}} (1) and (3) show a general decrease in rd 1 - 2 period and a general increase in rd 2 - 4 periods for labour incomes. (2) and (4) suggest \textsf{Large grace} arm saw a greater swing (decrease and increases) which resulted in overall significant mean increase of \Sexpr{round(lb1$est[grepl("ace$", rownames(lb1$est)), "Estimate"], 2)} (at $p$ value of \Sexpr{round(lb1$est[grepl("ace$", rownames(lb1$est)), "Pr(>|t|)"]*100, 2)}\%), yet not statistically different from \textsf{traditional}, while other arms have estimates closer to \textsf{traditional}. This labour income response can be due to the flood in rd 1 which reduced the labour incomes while repayment burden in later rounds prompted households to earn more labour incomes. Strong positive correlation with other members' previous 6 month repayment in (4) may be due to concerted peer efforts in repayment. Farm revenues do not show any systematic trend.
\end{finding}
\end{palepinkleftbar}


\subsection{Consumption}

<<ReadTrimConsumptionFDData original HHs, cache = F, child='c:/data/GUK/analysis/program/ReadTrimConsumptionOriginalHHsFDData.rnw'>>=
@

Consumption is observed in rd 2-4. There are \Sexpr{nrow(con)} observations, with first-differencing, it becomes \Sexpr{nrow(dcond)} observations with \Sexpr{table(dcond[, Tee])} households observed for \Sexpr{as.numeric(names(table(dcond[, Tee])))+1} times. 

<<ReadTrimConsumptionFDData original HHs in R file>>=
source(paste0(pathprogram, "ReadTrimConsumptionOriginalHHsFDData.R"))
@

<<consumption regression set parameters original HHs>>=
FileName <- "Consumption"
cnsuffixes <- c("", "g", "p", "s", "a")
listheader <- paste0("cn", cnsuffixes)
Regressands <- c(rep("PCExpenditure", 4), rep("PCHygieneExpenditure", 3))
DataToUse1 <- DataToUse2 <- c(rep("dcond", 3), "dconRd", rep("dcond", 2), "dconRd")
Addseparatingcols = 4; Separatingcolwidth = .2
Separatingcoltitle = c("Per capita consumption (Tk)", "Per capita hygiene consumption (Tk)")
<<consumption select covariates original HHs, echo = T>>=
source(paste0(pathprogram, "ConsumptionCovariateSelection.R"))
<<consumption estimation original HHs>>=
FileNameHeader <- paste0(c("", "Grace", "PovertyStatus", "Size", "Attributes"),
  "OriginalHHs")
exclheader <- paste0("excl", cnsuffixes)
source(paste0(pathprogram, "FDEstimationFile.R"))
<<consumption select covariates robustness original HHs, echo = F, eval = F>>=
source(paste0(pathprogram, "ConsumptionCovariateSelectionRobustness.R"))
<<consumption estimation robustness original HHs, eval = F>>=
FileNameHeader <- paste0(FileNameHeader, "Robustness")
exclheader <- paste0("excl", cnsuffixes)
source(paste0(pathprogram, "FDEstimationFile.R"))
	<<>>=
#dummy chunk
@

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of consumption\label{tab FD consumption original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "Consumption", FileNameHeader[1], "FDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+1}\equiv x_{t+1} - x_{t}$. Saving and repayment misses are taken from administrative data and merged with survey data at Year-Month of survey interviews. Intercept terms are omitted in estimating equations. Sample is continuing members and replacing members of early rejecters and received loans prior to 2015 Janunary. Consumption is annualised values. \\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of consumption by attributes \label{tab FD consumption attributes original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "Consumption", FileNameHeader[5], "FDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+1}\equiv x_{t+1} - x_{t}$. Saving and repayment misses are taken from administrative data and merged with survey data at Year-Month of survey interviews. Intercept terms are omitted in estimating equations. Sample is continuing members and replacing members of early rejecters and received loans prior to 2015 Janunary. Consumption is annualised values. \\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}


\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of consumption, moderately poor vs. ultra poor\label{tab FD consumption2 original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "Consumption", FileNameHeader[3], "FDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+1}\equiv x_{t+1} - x_{t}$. Saving and repayment misses are taken from administrative data and merged with survey data at Year-Month of survey interviews. Intercept terms are omitted in estimating equations. Sample is continuing members and replacing members of early rejecters and received loans prior to 2015 Janunary. Consumption is annualised values. \\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}


\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of consumption, large vs. small size loans\label{tab FD consumption3 original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "Consumption", FileNameHeader[4], "FDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+1}\equiv x_{t+1} - x_{t}$. Saving and repayment misses are taken from administrative data and merged with survey data at Year-Month of survey interviews. Intercept terms are omitted in estimating equations. Sample is continuing members and replacing members of early rejecters and received loans prior to 2015 Janunary. Consumption is annualised values. \\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}

\hspace{-1cm}\begin{minipage}[t]{14cm}
\hfil\textsc{\normalsize Table \refstepcounter{table}\thetable: FD estimation of consumption, with vs. without a grace period\label{tab FD consumption4 original HH}}\\
\setlength{\tabcolsep}{1pt}
\setlength{\baselineskip}{8pt}
\renewcommand{\arraystretch}{.55}
\hfil\begin{tikzpicture}
\node (tbl) {\input{\Sexpr{paste0(pathsaveHere, "Consumption", FileNameHeader[2], "FDEstimationResults.tex")}}};
%\input{c:/dropbox/data/ramadan/save/tablecolortemplate.tex}
\end{tikzpicture}\\
\renewcommand{\arraystretch}{.8}
\setlength{\tabcolsep}{1pt}
\begin{tabular}{>{\hfill\scriptsize}p{1cm}<{}>{\hfill\scriptsize}p{.25cm}<{}>{\scriptsize}p{12cm}<{\hfill}}
Source:& \multicolumn{2}{l}{\scriptsize Estimated with GUK administrative and survey data.}\\
Notes: & 1. & First-difference estimates. A first-difference is defined as $\Delta x_{t+1}\equiv x_{t+1} - x_{t}$. Saving and repayment misses are taken from administrative data and merged with survey data at Year-Month of survey interviews. Intercept terms are omitted in estimating equations. Sample is continuing members and replacing members of early rejecters and received loans prior to 2015 Janunary. Consumption is annualised values. \\
& 2. & ${}^{***}$, ${}^{**}$, ${}^{*}$ indicate statistical significance at 1\%, 5\%, 10\%, respetively. Standard errors are clustered at group (village) level.
\end{tabular}
\end{minipage}


\begin{palepinkleftbar}
\begin{finding}
\textsc{\small Table \ref{tab FD consumption  original HH}} uses rd 2 - 4 data and shows an increase in per member consumption in rd 2 - 3 period. The estimates are imprecise for all interaction terms. Continued increases in consumption hints welfare gains, but do not differ by arms. Per member food consumption increases in rd 2- 3 period but decreases in rd 3 - 4 period.
\end{finding}
\end{palepinkleftbar}


\subsection{IGA}

<<warning = F>>=
adw2 <- readRDS(paste0(path1234, "admin_data_wide2.rds"))
iga <- adw2[, .(hhid, Arm, Date, iga11st, iga12nd, iga13rd)]
setnames(iga, c("hhid", "Arm", "Date", paste0("iga", 1:3)))
#table0(iga[, iga1])
#table0(iga[, iga2])
#table0(iga[, iga3])
setkey(iga, hhid, Date)
iga[, NumIGA := sum(!is.na(iga1)) + sum(!is.na(iga2)) + sum(!is.na(iga3)), by = .(hhid, Date)]
#iga[NumIGA == 0 & !is.na(iga1), ]
setkey(iga, NumIGA, iga1, iga2, iga3)
iga.unique <- unique(iga[, .(NumIGA, iga1, iga2, iga3)])
iga.unique <- iga[iga.unique, .N/48, by = .EACHI]
setnames(iga.unique, "V1", "N")
setorder(iga.unique, -NumIGA, -N, iga1, iga2, iga3)
setkey(iga, NumIGA, iga1, Arm)
igaArm.unique <- unique(iga[, .(NumIGA, iga1, Arm)])
igaArm.unique <- iga[igaArm.unique, .N/48, by = .EACHI]
setnames(igaArm.unique, "V1", "N")
setorder(igaArm.unique, -NumIGA, -N, iga1)
for (i in 1:3) {
  iga[, paste0("IGA.", i) := as.character(NA)]
  iga[grepl("Cow|oxen", eval(parse(text = paste0("iga", i)))), 
    paste0("IGA.", i) := "cow"]
  iga[grepl("Goa|heep", eval(parse(text = paste0("iga", i)))), 
    paste0("IGA.", i) := "goat sheep"]
  iga[grepl("small", eval(parse(text = paste0("iga", i)))), 
    paste0("IGA.", i) := "small trade"]
  iga[grepl("house|land", eval(parse(text = paste0("iga", i)))), 
    paste0("IGA.", i) := "house land"]
  iga[grepl("machi", eval(parse(text = paste0("iga", i)))), 
    paste0("IGA.", i) := "machinery"]
  iga[grepl("addy|nut", eval(parse(text = paste0("iga", i)))), 
    paste0("IGA.", i) := "paddy nuts corn"]
  iga[, paste0("IGA.", i) := factor(eval(parse(text = paste0("IGA.", i))), 
    levels = c("cow", "goat sheep", "machinery", "small trade", "house land", "paddy nuts corn", NA))]
}
setkey(iga, NumIGA, IGA.1, IGA.2, IGA.3, Arm)
iga.unique3 <- unique(iga[, .(NumIGA, IGA.1, IGA.2, IGA.3, Arm)])
iga.unique3 <- iga[iga.unique3, .N/48, by = .EACHI]
setnames(iga.unique3, "V1", "N")
setorder(iga.unique3, -NumIGA, -N, Arm, IGA.1, IGA.2, IGA.3)
iga.unique3[, NumIGA := factor(NumIGA, levels = 3:0)]
<<IGA choices original HHs, warning = F, message = F, fig.align='center', fig.height = 3, fig.width = 10, fig.cap = paste0("Income generatng activity choices", "\\\\ {\\footnotesize The first income generating activity choices are plotted.\\setlength{\\baselineskip}{8pt}}"), fig.lp = 'Figure '>>=
library(ggplot2)
ggplot(data = iga.unique3[NumIGA != 0 & !is.na(IGA.1), ], aes(IGA.1, N)) + 
  geom_col() +
  xlab("First IGA choices") +
  theme(axis.text.x = element_text(angle = 30, vjust = .5, hjust = 1), 
    strip.text.y = element_text(colour = "blue"))+
  facet_grid(NumIGA ~ Arm, switch = "y")
<<All IGA choices original HHs, warning = F, message = F, fig.align='center', fig.height = 3, fig.width = 10, fig.cap = paste0("All income generatng activity choices", "\\\\ {\\footnotesize All of multiple investment choices are summed by arms and the number of IGAs and plotted as bars. \\setlength{\\baselineskip}{8pt}}"), fig.lp = 'Figure '>>=
iga.unique3[, num := 1:.N]
igaUL <- reshape(iga.unique3, direction = "long", idvar = c("num", "NumIGA", "Arm", "N"),
  varying = paste0("IGA.", 1:3))
setnames(igaUL, "time", "rank")
setkey(igaUL, num, rank)
library(ggplot2)
ggplot(data = igaUL[NumIGA != 0 & !is.na(IGA), ], aes(IGA, N)) + 
  geom_col() +
  xlab("First IGA choices") +
  theme(axis.text.x = element_text(angle = 30, vjust = .5, hjust = 1), 
    strip.text.y = element_text(colour = "blue"))+
  facet_grid(NumIGA ~ Arm, switch = "y")
<<All IGA choices collapsed original HHs, warning = F, message = F, fig.align='center', fig.height = 3, fig.width = 10, fig.cap = paste0("All income generatng activity choices collapsed over different number of IGAs", "\\\\ {\\footnotesize All of multiple investment choices are summed by arms and plotted as bars. \\setlength{\\baselineskip}{8pt}}"), fig.lp = 'Figure '>>=
iga.unique3[, num := 1:.N]
igaUL <- reshape(iga.unique3, direction = "long", idvar = c("num", "NumIGA", "Arm", "N"),
  varying = paste0("IGA.", 1:3))
setnames(igaUL, "time", "rank")
setkey(igaUL, num, rank)
library(ggplot2)
ggplot(data = igaUL[NumIGA != 0 & !is.na(IGA), ], aes(IGA, N)) + 
  geom_col() +
  xlab("First IGA choices") +
  theme(axis.text.x = element_text(angle = 90, vjust = .5, hjust = 1), 
    strip.text.y = element_text(colour = "blue"))+
  facet_grid(. ~ Arm, switch = "y")
@

\begin{palepinkleftbar}
\begin{finding}
\textsc{\small Figure \ref{Figure IGA choices}, \ref{Figure All IGA choices}} show that there are very few members who chose to invest in more than one project for the ``large'' arms, while in the \textsf{traditional} arm, almost no one invested only in one project. Goat/sheep and small trades are the top choices for the first IGA in \textsf{traditional}. This indicates the exitence of both a liquidity constraint and convexity in the production technology of large domestic animals. This also validates our supposition that dairy livestock production is the most preferred and probably the only economically viable investment choice. It reduces a concern that the \textsf{cow} arm may have imposed an unnecessary restriction in an investment choice by forcing to receive a cow. \textsc{\small Figure \ref{Figure All IGA choices collapsed}} shows there are a significant number of cases in the \textsf{traditional} arm that members reportedly raise cows, yet they are also accompanied by pararell projects in smaller livestock production and small trades. Contrasting \textsf{large}, \textsf{large grace} with \textsf{cow} arms, it suggests that entrepreneurship (to the extent that is necessary for dairy livestock production) may not be an impediment for a microfinance loan uptake among members.
\end{finding}
\end{palepinkleftbar}

Together with \textsc{\small Table \ref{tab FD saving}} showing smaller net saving and repayment among \textsf{traditional}, the restriction on a project choice induced by a smaller loaned sum resulted in smaller returns. Between with or no grace period loans, cumulative net saving and repayment are both larger with loans with a grace period. No such difference is found between \textsf{cow} and other arms.

